\apisummary{
    This routine changes the handler invoked when reporting an error.
}

\begin{apidefinition}

\begin{Csynopsis}
void shmem_errhandler_set(int errcode, void (*errhandler_fn)(int errcode, int origin_pe, void* user_context), void* user_context);
\end{Csynopsis}

\begin{Fsynopsis}
INT ERRCODE
EXTERNAL ERRHANDLER_FN
POINTER (USER_CONTEXT, POINTEE)
SHMEM_ERRHANDLER_SET(ERRCODE, ERRHANDLER_FN, USER_CONTEXT)
\end{Fsynopsis}

\begin{apiarguments}
    \apiargument{IN}{errcode}{The error code to which the error handler is
        attached.}
    \apiargument{IN}{errhandler\_fn}{The error handler function to invoke.}
    \apiargument{IN}{user\_context}{An application parameter passed to the error handler
        when it is invoked with this error code.}
\end{apiarguments}

\apidescription{
    This routine sets the error handler attached to the error code passed
    as argument. Upon encountering an erroneous situation of the type
    described by \textit{errcode}, the error handler function \textit{errhandler\_fn}
    is called, with the error code, and the provided \textit{user\_context} as arguments.
    Either predefined error handlers (i.e. \textit{SHMEM\_ERRHANDLER\_GEXIT},
    \textit{SHMEM\_ERRHANDLER\_BREAK}, and \textit{SHMEM\_ERRHANDLER\_GBREAK},
    in which case the \textit{user\_context} argument is ignored),
    or user defined functions may be passed in \textit{errhandler\_fn}.

    When an user provided error handler function returns, it has the same
    effect as if it had called \textit{SHMEM\_ERRHANDLER\_BREAK} as its last
    statement.
}

\apireturnvalues{
    None.
}

\apinotes{
    None.
}

\end{apidefinition}
